import{r as l,a as N,c as k,s as m,k as I,t as j,m as P,j as e,G as r,d as _,n as E,o as M,M as i,B,p as F,q as L,v as R,w as W,x as A,S as V,y as $}from"./index-CgMpkwRO.js";const G=()=>{const[d,p]=l.useState([]),[n,b]=l.useState(5),[c,o]=l.useState(1),[h,S]=l.useState(""),[C,g]=l.useState(0);l.useEffect(()=>{N.get(`${k.apiURL}/dashboard/feePendingStudents`).then(t=>{p(t.data),g(Math.ceil(t.data.length/n))}).catch(t=>{console.log("Error fetching students data",t)})},[n]);const f=t=>{const s=parseInt(t.target.value,10);b(s),o(1),g(Math.ceil(d.length/s))},w=(t,s)=>{o(s)},y=t=>{const s=h.toLowerCase();return Object.values(t).some(x=>x&&x.toString().toLowerCase().includes(s))},u=d.filter(y),v=n===0?u:u.slice((c-1)*n,c*n),a=m(I)(({theme:t})=>({[`&.${j.head}`]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},[`&.${j.body}`]:{fontSize:14}})),T=m(P)(({theme:t})=>({"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}})),D=()=>{const t=window.open("","","height=800,width=1200");t.document.write("<html><head><title>Print</title>"),t.document.write("<style>@media print { .no-print { display: none; } }</style>"),t.document.write("</head><body >"),t.document.write(document.getElementById("printableArea").innerHTML),t.document.write("</body></html>"),t.document.close(),t.focus(),t.print()};return e.jsxs("div",{children:[e.jsx("h1",{className:"text-center",children:"Pending Students"}),e.jsxs(r,{container:!0,spacing:3,alignItems:"center",children:[e.jsx(r,{item:!0,xs:4}),e.jsx(r,{item:!0,xs:4,children:e.jsx(_,{label:"Search",onChange:t=>S(t.target.value),value:h,fullWidth:!0})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(E,{fullWidth:!0,children:e.jsxs(M,{value:n,onChange:f,children:[e.jsx(i,{value:5,children:"5 Per Page"}),e.jsx(i,{value:10,children:"10 Per Page"}),e.jsx(i,{value:15,children:"15 Per Page"}),e.jsx(i,{value:20,children:"20 Per Page"}),e.jsx(i,{value:0,children:"All Per Page"})]})})})]}),e.jsx(B,{variant:"contained",color:"primary",onClick:D,className:"no-print",children:"Print"}),e.jsx(F,{component:L,className:"mt-3",id:"printableArea",children:e.jsxs(R,{sx:{minWidth:700},"aria-label":"customized table",children:[e.jsx(W,{children:e.jsxs(P,{children:[e.jsx(a,{children:"S.no"}),e.jsx(a,{align:"right",children:"Student Name"}),e.jsx(a,{align:"right",children:"Student ID"}),e.jsx(a,{align:"right",children:"Class Name"}),e.jsx(a,{align:"right",children:"Section Name"}),e.jsx(a,{align:"right",children:"Pending Fees"})]})}),e.jsx(A,{children:v.map((t,s)=>e.jsxs(T,{children:[e.jsx(a,{children:n===0?s+1:(c-1)*n+s+1}),e.jsx(a,{align:"right",children:t.stu_name}),e.jsx(a,{align:"right",children:t.stu_id}),e.jsx(a,{align:"right",children:t.cls_name}),e.jsx(a,{align:"right",children:t.sec_name}),e.jsx(a,{align:"right",children:t.pending_fees})]},t.stu_id))})]})}),n!==0&&e.jsx(r,{container:!0,spacing:1,justifyContent:"center",className:"mt-3",children:e.jsx(V,{spacing:2,children:e.jsx($,{count:C,page:c,onChange:w,variant:"outlined",shape:"rounded"})})})]})};export{G as default};
